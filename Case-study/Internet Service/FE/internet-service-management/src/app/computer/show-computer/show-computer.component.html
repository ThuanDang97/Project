<h1 class="container mt-5 text-center" style="color: darkblue">DANH SÁCH MÁY TÍNH</h1>
<div class="container mt-3">
  <div class="row">
    <div class="col-lg-12 col-12 col-sm-12">
      <form class="form-group" [formGroup]="searchComputer" (ngSubmit)="search()" (keydown)="searchEnter($event)">
        <table>
          <tr>
            <td><label class=" pr-3 pt-2">Mã Máy Tính: </label></td>
            <td><input  class="form-control " type="text" formControlName="idComputer"  maxlength=10 trim="" ></td>
            <td><label class="ml-4 pr-3 pt-2 " id="date-form">Ngày Sử Dụng Máy Từ: </label></td>
            <td> <input class="form-control " type="date" formControlName="startUsedDateFromComputer"></td>
            <td> <label class="ml-4 pr-3 pt-2 " id="status">Trạng Thái Sử Dụng: </label></td>
            <td>
              <select class="form-control mr-5" formControlName="statusComputer">
                <option value="">Chọn...</option>
                <option *ngFor="let status of listComputerStatus" [ngValue]="status.statusName">{{status.statusName}}</option>
              </select>
            </td>
            <td><button class="btn btn-success rounded-circle ml-1" type="submit" ><i class="fas fa-search-plus"></i>
            </button> </td>
          </tr>
          <tr>
            <td><label class="" id="location">Vị Trí Máy: </label></td>
            <td><input class="form-control" type="text" formControlName="computerLocation" maxlength=15 trim=""></td>
            <td> <label class="ml-4 pt-2"  id="date-to">Ngày Sử Dụng Máy Đến: </label></td>
            <td><input class="form-control" type="date" formControlName="startUsedDateToComputer"></td>
            <td> <label class="ml-4" id="type">Loại Máy: </label></td>
            <td>
              <select class="form-control" formControlName="typeComputer">
                <option value="">Chọn...</option>
                <option *ngFor="let type of listComputerType" [ngValue]="type.typeName">{{type.typeName}}</option>
              </select>
            </td>
            <td>
              <a class=" btn btn-secondary rounded-circle ml-1" (click)="pageRefresh()"><i class="fas fa-sync-alt"></i></a>

            </td>
          </tr>
        </table>
      </form>
    </div>
  </div>

</div>
<div class="container-fluid">
  <div class="row">
    <div class="col-lg-12 col-12 col-sm-12">
      <button class="fas fa-plus-circle btn btn-success" routerLink="/createComputer">Thêm Mới Máy Tính</button>
      <table id="tableComputer" class="table table-striped table-hover container mt-3" style="width: 100%">
        <thead style="background-color: #96ee4d">
        <tr>
          <th class="text-center ">Mã Máy Tính</th>
          <th class="text-center ">Trạng Thái</th>
          <th class="text-center ">Vị Trí</th>
          <th class="text-center ">Ngày Bắt Đầu Sử Dụng</th>
          <th class="text-center ">Cấu Hình</th>
          <th class="text-center ">Loại Máy</th>
          <th class="text-center ">Hãng Sản Xuất</th>
          <th class="text-center ">Thời Gian Bảo Hành</th>
          <th class="text-center ">Hành Động</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let arrayComputer of listComputer">
          <th scope="row">{{arrayComputer.computerId}}</th>
          <td>{{arrayComputer.status.statusName}}</td>
          <td>{{arrayComputer.computerLocation}}</td>
          <td>{{arrayComputer.computerStartUsedDate | date: 'dd/MM/yyyy'}}</td>
          <td>{{arrayComputer.computerConfiguration}}</td>
          <td>{{arrayComputer.type.typeName}}</td>
          <td>{{arrayComputer.manufacturer.manufacturerName}}</td>
          <td>{{arrayComputer.computerWarrantyPeriod}} năm</td>
          <td>
            <button class=" mr-2 border-0 btn btn-info" [routerLink]="['/editComputer', arrayComputer.computerId]"><i class="fas fa-pencil-alt"></i></button>
            <button type="button" class="fas fa-trash-alt border-0 btn btn-danger" (click)="openDialog(arrayComputer.computerId)">
            </button>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
<nav aria-label="..." class="d-flex justify-content-end mt-3 mr-5">
  <ul class="pagination">
    <li class="page-item">
      <a class="page-link" (click)="getPage(0)">Đầu</a>
    </li>
    <li class="page-item" >
      <a class="page-link" tabindex="-1" *ngIf="(indexPagination-1)>0" (click)="getPage((indexPagination-2))">Trước</a>
    </li>
    <li class="page-item"><a class="page-link" *ngIf="(indexPagination-1)>0" (click)="getPage((indexPagination-2))">{{indexPagination - 1}}</a></li>
    <li class="page-item active" aria-current="page">
      <a class="page-link"(click)="getPage((indexPagination-1))">{{indexPagination}}</a>
    </li>
    <li class="page-item"><a class="page-link" *ngIf="(indexPagination +1)<= totalPagination" (click)="getPage((indexPagination))">{{indexPagination + 1}}</a></li>
    <li class="page-item">
      <a class="page-link" *ngIf="(indexPagination +1)<= totalPagination" (click)="getPage((indexPagination))">Sau</a>
    </li>
    <li class="page-item">
      <a class="page-link" (click)="getPage((totalPagination-1))">Cuối</a>
    </li>
  </ul>
</nav>
